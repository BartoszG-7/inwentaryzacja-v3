@import 'global.scss';
@import '../../styles/modal-shared';

.modal-backdrop { position:fixed; inset:0; width:100vw; height:100vh; background:rgba(0,0,0,.55); opacity:0; pointer-events:none; transition:opacity .22s; z-index:5000; }
.modal-backdrop.open { opacity:1; pointer-events:auto; }

.modal-custom { position:fixed; top:50%; left:50%; transform:translate(-50%,-50%) scale(.94); background:$dark-bg !important; color:$light-txt !important; border-radius:12px; border:1.5px solid $border-clr; box-shadow:0 14px 48px rgba(0,0,0,.5); min-width:360px; min-height:200px; opacity:0; pointer-events:none; transition:opacity .22s, transform .24s; z-index:5001; display:flex; flex-direction:column; overflow:hidden; }
.modal-custom.open { opacity:1; pointer-events:auto; transform:translate(-50%,-50%) scale(1); }

.modal-content { padding:1.25rem 1.45rem 1.1rem; box-shadow:none; display:flex; flex-direction:column; max-height:86vh; }
.modal-content > form { display:flex; flex-direction:column; flex:1 1 auto; min-height:0; }
.modal-header, .modal-footer { flex:0 0 auto; }
.modal-body { flex:1 1 auto; overflow-y:scroll; min-height:0; padding-right:6px; }
/* visible thin scrollbar for the scrolling body */
.modal-body { scrollbar-width: thin; scrollbar-color: $muted-txt transparent; }
.modal-body::-webkit-scrollbar { width: 6px; }
.modal-body::-webkit-scrollbar-thumb { background: $muted-txt; border-radius: 4px; }
.modal-body::-webkit-scrollbar-thumb:hover { background: color-mix(in srgb, var(--muted-txt), white 99%); }
.modal-content input,
.modal-content textarea,
.modal-content select { margin-bottom:.55rem; }
.modal-header { margin:0 0 .85rem 0; border:none; padding:0; }
.modal-header-black { background:transparent; padding:0; border:none; }
.modal-title, .modal-title-black { font-size:1.1rem; font-weight:600; letter-spacing:.5px; color:$title-txt; }

.header-btn {
  background: transparent;
  background-color: $panel-bg;
  color: $title-txt;
  border: 1.5px solid $border-clr;
  border-radius: 4px;
  padding: 4px 12px;
  font-size: 1rem;
  cursor: pointer;
  transition: background 0.15s, color 0.15s;
  margin-right: 0.5rem;
  box-shadow: 0 4px 32px rgba(0,0,0,0.22);
}
.header-btn:hover {
  background: $panel-bg;
  color: $primary-color;
  border-color: $primary-color;
}

/* Use unified close button by adding class modal-close-btn in template */
.close { @extend .modal-close-btn; font-size:1.1rem; width:34px; height:34px; padding:0; }

.modal-footer { gap:.55rem; padding-top:.4rem; }

/* Smaller inline plus button next to the section title */
.btn-inline-plus {
  padding: 2px 8px; /* smaller than default header-btn */
  font-size: 0.9rem;
  line-height: 1;
}
.btn-inline-plus i { font-size: 1rem; }

/* Add padding between header and the device type rows */
.devices-header { margin-bottom: 8px; }

/* Scrollable list of device rows when there are many */
/* Device rows inherit scrolling from the modal body to avoid nested scrollbars */
.devices-rows { max-height: none; overflow: visible; padding-right: 0; }

/* Small device width adjustments */
@media (max-width: 360px) {
  .modal-custom { min-width: 92vw; width:92vw; }
  .modal-content { padding:1rem 1rem .95rem; }
}
@media (max-width: 330px) {
  .modal-custom { min-width: 94vw; }
}
