<header>
  <div class="header-flex">
    <!-- Left menu icon (mobile only, not on login) -->
    <div
      *ngIf="showLeftMenu"
      class="menu-icon left-menu"
      (click)="toggleLeftMenu()"
      [class.open]="leftMenuOpen"
      title="Open left menu"
    >
      <i class="bi bi-list"></i>
    </div>

    <!-- KIT box (desktop only, now left side) -->
    <a
      class="kit-box"
      routerLink="/home"
      [class.active]="isActive('/home', true)"
      >KIT</a
    >

    <!-- Logo (centered absolutely) -->
    <div class="logo-container">
      <img src="assets/wama_logo_dark.png" alt="logo" class="logo" />
    </div>

    <!-- Header links (desktop only, now right side) -->
    <div class="header-links">
      <a
        routerLink="/inwentaryzacja"
        [class.active]="isActive('/inwentaryzacja')"
        >Inwentaryzacja</a
      >
      <a
        routerLink="/magazyn"
        [class.active]="isActive('/magazyn')"
        >Magazyn</a
      >
    </div>

    <!-- Logout icon (desktop only, stays top right) -->
    <button
      class="logout-btn"
      (click)="loginHandler()"
      title="Logout"
      tabindex="0"
    >
      <i class="bi bi-box-arrow-right"></i>
    </button>

    <!-- Right menu icon (mobile only, always visible on mobile) -->
    <div
      class="menu-icon right-menu mobile-only"
      (click)="toggleRightMenu()"
      [class.open]="rightMenuOpen"
      title="Open right menu"
    >
      <i class="bi bi-three-dots-vertical"></i>
    </div>
  </div>

  <!-- Left sidebar menu (slide in/out) -->
  <nav class="side-menu left" [class.open]="leftMenuOpen">
    <button class="close-btn" (click)="toggleLeftMenu()">&times;</button>
    <ul>
      <li
        routerLink="/home"
        (click)="toggleLeftMenu()"
        [class.active]="isActive('/home', true)"
      >
        Home
      </li>
      <li
        routerLink="/inwentaryzacja"
        (click)="toggleLeftMenu()"
        [class.active]="isActive('/inwentaryzacja')"
      >
        Inwentaryzacja
      </li>
      <li
        routerLink="/magazyn"
        (click)="toggleLeftMenu()"
        [class.active]="isActive('/magazyn')"
      >
        Magazyn
      </li>
    </ul>
    <div class="sidebar-kit-row">
      <a
        class="kit-box kit-box-mobile"
        routerLink="/home"
        [class.active]="isActive('/home', true)"
        >KIT</a
      >
      <a
        class="kit-box kit-box-mobile"
        routerLink="/home"
        [class.active]="isActive('/home', true)"
        >KIT</a
      >
    </div>
  </nav>

  <!-- Right sidebar menu (mobile only, slide in/out) -->
  <nav class="side-menu right" [class.open]="rightMenuOpen">
    <button class="close-btn" (click)="toggleRightMenu()">&times;</button>
    <ul>
      <li
        routerLink="/home"
        (click)="toggleRightMenu()"
        [class.active]="isActive('/home', true)"
      >
        Home
      </li>
      <li
        routerLink="/inwentaryzacja"
        (click)="toggleRightMenu()"
        [class.active]="isActive('/inwentaryzacja')"
      >
        Inwentaryzacja
      </li>
      <li
        routerLink="/magazyn"
        (click)="toggleRightMenu()"
        [class.active]="isActive('/magazyn')"
      >
        Magazyn
      </li>
    </ul>
    <div class="sidebar-kit-row">
      <a
        class="kit-box kit-box-mobile"
        routerLink="/home"
        [class.active]="isActive('/home', true)"
        >KIT</a
      >
      <a
        class="kit-box kit-box-mobile"
        routerLink="/home"
        [class.active]="isActive('/home', true)"
        >KIT</a
      >
    </div>
  </nav>

  <!-- Overlay for side menus -->
  <div
    class="menu-overlay"
    *ngIf="leftMenuOpen || rightMenuOpen"
    (click)="closeMenus()"
  ></div>
</header>